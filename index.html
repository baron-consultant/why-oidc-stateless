<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í™•ì¥ ê°€ëŠ¥í•œ ì „ëµ: OIDC ë° JWT ê¸°ë°˜ ë¬´ìƒíƒœ ì•„í‚¤í…ì²˜</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(226, 232, 240, 0.8);
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        html {
            scroll-behavior: smooth;
        }

        .content-section {
            scroll-margin-top: 6rem;
        }

        /* Deep Dive Section Styles */
        .connector-line {
            position: absolute;
            background-color: #cbd5e1;
            z-index: 0;
        }

        .arrow-down {
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 8px solid #cbd5e1;
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
        }

        .step-card {
            transition: all 0.3s ease;
        }

        .step-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* account for fixed header on small screens */
    </style>
</head>

<body class="bg-slate-50 text-slate-800 font-sans antialiased selection:bg-indigo-100 selection:text-indigo-900">

    <!-- Chosen Palette: Slate & Indigo - Professional, trustworthy, clean technical feel. -->
    <!-- Application Structure Plan:
         1. Sidebar Navigation: Persistent context switching between Key Research Areas (Overview, OIDC Architecture, JWT Technical Analysis, Implementation Guide).
         2. Dynamic Content Area: 
            - 'Architecture': Uses HTML-based block diagrams (no SVG) to visualize the data flow.
            - 'JWT Analysis': Uses Chart.js to visualize server load comparison (Scalability) and interactive cards for technical pros/cons.
            - 'Toolkit': A filterable grid for the requested tech stacks (PHP, Go, Node, Flutter).
         3. Rationale: The research plan needs to be convincing. A dashboard format allows stakeholders to 'drill down' into technical justifications (JWT vs Cookie) and immediately see practical solutions (Libraries), facilitating decision-making.
    -->
    <!-- Visualization & Content Choices:
         1. Architecture Flow: Goal -> Explain 'No User Table' concept. Method -> CSS Grid/Flexbox Flowchart with Unicode arrows. Interaction -> Hover effects to highlight data paths. Justification -> Clearer than text, avoids heavy image assets.
         2. Scalability Chart: Goal -> Prove JWT superiority. Method -> Chart.js Line/Bar chart comparing 'DB Lookups' vs 'CPU Load'. Interaction -> Toggle data sets.
         3. Tech Stack Grid: Goal -> Provide actionable resources. Method -> JS Filterable Cards. Interaction -> Click filters (PHP, Go, etc.) to refine view.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <div id="app" class="flex h-screen overflow-hidden">

        <!-- Sidebar -->
        <aside
            class="w-64 bg-slate-900 text-slate-300 flex flex-col flex-shrink-0 shadow-xl z-20 transition-all duration-300 hidden md:flex">
            <div class="p-6 border-b border-slate-700">
                <h1 class="text-xl font-bold text-white tracking-tight">Baron<span class="text-indigo-400">ê¸°ìˆ ê¸°íš</span>
                </h1>
                <p class="text-xs text-slate-400 mt-1">OIDC & Stateless Auth</p>
            </div>

            <nav class="flex-1 overflow-y-auto py-4">
                <ul class="space-y-1 px-3">
                    <li>
                        <button onclick="navigate('overview')"
                            class="nav-item w-full text-left px-4 py-3 rounded-lg hover:bg-slate-800 hover:text-white transition-colors flex items-center gap-3 group focus:outline-none focus:ring-2 focus:ring-indigo-500"
                            data-target="overview">
                            <span class="text-lg opacity-70 group-hover:opacity-100">ğŸ“Š</span>
                            <span class="font-medium">ë³´ê³ ì„œ ê°œìš”</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="navigate('architecture')"
                            class="nav-item w-full text-left px-4 py-3 rounded-lg hover:bg-slate-800 hover:text-white transition-colors flex items-center gap-3 group focus:outline-none focus:ring-2 focus:ring-indigo-500"
                            data-target="architecture">
                            <span class="text-lg opacity-70 group-hover:opacity-100">ğŸ—ï¸</span>
                            <span class="font-medium">OIDC ì•„í‚¤í…ì²˜</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="navigate('deepdive')"
                            class="nav-item w-full text-left px-4 py-3 rounded-lg hover:bg-slate-800 hover:text-white transition-colors flex items-center gap-3 group focus:outline-none focus:ring-2 focus:ring-indigo-500"
                            data-target="deepdive">
                            <span class="text-lg opacity-70 group-hover:opacity-100">ğŸ›¡ï¸</span>
                            <span class="font-medium">OAuth & PKCE</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="navigate('jwt')"
                            class="nav-item w-full text-left px-4 py-3 rounded-lg hover:bg-slate-800 hover:text-white transition-colors flex items-center gap-3 group focus:outline-none focus:ring-2 focus:ring-indigo-500"
                            data-target="jwt">
                            <span class="text-lg opacity-70 group-hover:opacity-100">ğŸ”</span>
                            <span class="font-medium">JWT vs Session</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="navigate('legacy')"
                            class="nav-item w-full text-left px-4 py-3 rounded-lg hover:bg-slate-800 hover:text-white transition-colors flex items-center gap-3 group focus:outline-none focus:ring-2 focus:ring-indigo-500"
                            data-target="legacy">
                            <span class="text-lg opacity-70 group-hover:opacity-100">ğŸ”„</span>
                            <span class="font-medium">í†µí•© ì „ëµ</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="navigate('implementation')"
                            class="nav-item w-full text-left px-4 py-3 rounded-lg hover:bg-slate-800 hover:text-white transition-colors flex items-center gap-3 group focus:outline-none focus:ring-2 focus:ring-indigo-500"
                            data-target="implementation">
                            <span class="text-lg opacity-70 group-hover:opacity-100">ğŸ› ï¸</span>
                            <span class="font-medium">êµ¬í˜„ íˆ´í‚·</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="navigate('integration')"
                            class="nav-item w-full text-left px-4 py-3 rounded-lg hover:bg-slate-800 hover:text-white transition-colors flex items-center gap-3 group focus:outline-none focus:ring-2 focus:ring-indigo-500"
                            data-target="integration">
                            <span class="text-lg opacity-70 group-hover:opacity-100">ğŸš€</span>
                            <span class="font-medium">ì—°ë™ ê°€ì´ë“œ</span>
                        </button>
                    </li>
                </ul>
            </nav>

            <div class="p-4 border-t border-slate-700 bg-slate-800/50">
                <div class="flex items-center gap-3">
                    <div
                        class="w-8 h-8 rounded-full bg-indigo-500 flex items-center justify-center text-white font-bold text-xs">
                        BR</div>
                    <div>
                        <p class="text-sm font-medium text-white">ê¸°ìˆ  ê°œë°œíŒ€</p>
                        <p class="text-xs text-slate-400">ì´ê´„ê¸°íšì‹¤</p>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Mobile Header -->
        <div
            class="md:hidden fixed top-0 left-0 right-0 h-16 bg-slate-900 text-white flex items-center justify-between px-4 z-30 shadow-md">
            <span class="font-bold">ResearchHub</span>
            <button
                onclick="document.querySelector('aside').classList.toggle('hidden'); document.querySelector('aside').classList.toggle('absolute'); document.querySelector('aside').classList.toggle('h-full');"
                class="p-2">
                â˜°
            </button>
        </div>

        <!-- Main Content -->
        <main class="flex-1 overflow-y-auto bg-slate-50 relative pt-16 md:pt-0">
            <div id="content-area" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8">
                <!-- Dynamic Content injected here -->
            </div>
        </main>
    </div>

    <script>
        // Data Store
        const appData = {
            overview: {
                title: "Stateless ID ê´€ë¦¬",
                summary: "ë³¸ ë³´ê³ ì„œëŠ” ê°œë³„ ì„œë¹„ìŠ¤ê°€ ì§ì ‘ ì‚¬ìš©ì ê´€ë¦¬í•˜ëŠ” ì‹œìŠ¤í…œì—ì„œ ë²—ì–´ë‚˜, OIDC(OpenID Connect)ì™€ JWT(JSON Web Token)ë¥¼ í™œìš©í•œ 'ê°œë³„ ì‹œìŠ¤í…œì€ User Table ì—†ëŠ”' ì•„í‚¤í…ì²˜ë¡œì˜ ì „í™˜ì„ ì œì•ˆí•˜ê³ , ê·¸ì— ë”°ë¥¸ êµ¬í˜„ ë°©ì•ˆê³¼ ë ˆí¼ëŸ°ìŠ¤ë¡œ ì°¸ì¡°í•  ìŠ¤í™ ë¬¸ì„œ ë° ë°”ë¡œ í™œìš©ê°€ëŠ¥í•œ íˆ´í‚·ë“¤ì„ ì •ë¦¬í•œ ë¬¸ì„œì…ë‹ˆë‹¤.",
                goals: [
                    { icon: "ğŸ›¡ï¸", title: "ë³´ì•ˆ ê°•í™”", desc: "ê°œì¸ì •ë³´(PII) ì €ì¥ ìµœì†Œ - ì¤‘ì•™í™”ëœ ì¸ì¦ ìœ„ì„" },
                    { icon: "ğŸš€", title: "í™•ì¥ì„± í™•ë³´", desc: "Stateless ì•„í‚¤í…ì²˜ - ìŠ¤ì¼€ì¼ë§ ìš©ì´ì„±" },
                    { icon: "âš¡", title: "ê°œë°œ íš¨ìœ¨ì„±", desc: "ì¸ì¦ ë¡œì§ êµ¬í˜„ ë¹„ìš© ì ˆê°, í‘œì¤€ í”„ë¡œí† ì½œ ì¤€ìˆ˜" }
                ]
            },
            architecture: {
                benefits: [
                    { title: "PII ë¦¬ìŠ¤í¬", desc: "ë¹„ë°€ë²ˆí˜¸, ì´ë©”ì¼ ë“± ë¯¼ê° ì •ë³´ë¥¼ ê°œë³„ ì„œë¹„ìŠ¤ë§ˆë‹¤ ë°˜ë³µí•´ ì €ì¥í•˜ì§€ ì•Šì•„ ìœ ì¶œ ì‚¬ê³  ì‹œ ì±…ì„ ì†Œì¬ê°€ ëŒ€í­ ê°ì†Œí•©ë‹ˆë‹¤." },
                    { title: "ê¸€ë¡œë²Œ ê·œì • ì¤€ìˆ˜", desc: "GDPR, CCPA ë“± ë³µì¡í•œ ë°ì´í„° ì£¼ê¶Œ ë° ì‚­ì œ ìš”êµ¬ì‚¬í•­ì„ IdP(Identity Provider)ì— ìœ„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." },
                    { title: "í†µí•© ê´€ë¦¬ (SSO)", desc: "ì—¬ëŸ¬ ì„œë¹„ìŠ¤ê°„ì— ë³„ë„ì˜ íšŒì›ê°€ì… ì—†ì´ ë‹¨ì¼ IDë¡œ ì ‘ê·¼ ì œì–´ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤." },
                    { title: "ìŠ¤í‚¤ë§ˆ ìœ ì—°ì„±", desc: "ì‚¬ìš©ì ì†ì„±ì´ ë³€ê²½ë˜ì–´ë„ DB ë§ˆì´ê·¸ë ˆì´ì…˜ ì—†ì´ IdP ë³€ê²½ë§Œìœ¼ë¡œ ëŒ€ì‘ ê°€ëŠ¥í•©ë‹ˆë‹¤." }
                ]
            },
            jwt: {
                comparison: [
                    { feature: "ìƒíƒœ ì €ì¥ (State)", session: "ì„œë²„ ë©”ëª¨ë¦¬/DB (Stateful)", jwt: "í´ë¼ì´ì–¸íŠ¸/í† í° ìì²´ (Stateless)" },
                    { feature: "í™•ì¥ì„± (Scalability)", session: "Sticky Session ë˜ëŠ” Redis í•„ìš”", jwt: "ë¬´í•œ ìˆ˜í‰ í™•ì¥ ê°€ëŠ¥" },
                    { feature: "ëª¨ë°”ì¼ í˜¸í™˜ì„±", session: "ì¿ í‚¤ ì²˜ë¦¬ ë³µì¡í•¨", jwt: "í—¤ë” ê¸°ë°˜ìœ¼ë¡œ ë§¤ìš° ìš©ì´" },
                    { feature: "ë³´ì•ˆ ëª¨ë¸", session: "CSRF ì·¨ì•½ (ì¿ í‚¤ ì‚¬ìš© ì‹œ)", jwt: "XSS ì£¼ì˜ (ì €ì¥ì†Œ ì¤‘ìš”), CSRF ì•ˆì „" }
                ]
            },
            legacy: {
                strategies: [
                    {
                        level: "Level 1",
                        key: "auth_only",
                        name: "ë‹¨ìˆœ ì¸ì¦ ì—°ë™ (Auth Only)",
                        tagline: "ìµœì†Œí•œì˜ ë³€ê²½",
                        desc: "ê¸°ì¡´ì˜ ë¡œì»¬ DBì™€ íšŒì› ë¡œì§ì„ ê·¸ëŒ€ë¡œ ìœ ì§€í•©ë‹ˆë‹¤. ì˜¤ì§ 'ë¡œê·¸ì¸' ê³¼ì •ì—ì„œë§Œ OIDC ì½”ë“œë¥¼ ì‚¬ìš©í•´ ì‹ ì›ì„ í™•ì¸í•˜ê³ , ë¡œì»¬ DBì˜ ì‚¬ìš©ìì™€ ë§¤í•‘í•˜ì—¬ ì„¸ì…˜ì„ ìƒì„±í•©ë‹ˆë‹¤.",
                        mechanism: "OIDC Sub â” Local DB ë§¤í•‘",
                        pros: ["ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìˆ˜ì • ì—†ìŒ", "ë¹ ë¥¸ SSO ë„ì… ê°€ëŠ¥"],
                        cons: ["ì—¬ì „íˆ ì„¸ì…˜/DB ê´€ë¦¬ í•„ìš”", "í”„ë¡œë¹„ì €ë‹ ìˆ˜ë™ êµ¬í˜„ í•„ìš”"],
                        color: "slate",
                        icon: "ğŸ”—"
                    },
                    {
                        level: "Level 2",
                        key: "jit",
                        name: "JIT í”„ë¡œë¹„ì €ë‹ (Sync)",
                        tagline: "í˜„ì‹¤ì ì¸ íƒ€í˜‘ì•ˆ",
                        desc: "ë¡œê·¸ì¸ ì„±ê³µ ì‹œì (Just-In-Time)ì— ID Tokenì˜ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë¡œì»¬ DBì˜ ì‚¬ìš©ì ì •ë³´ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±(Insert)í•˜ê±°ë‚˜ ìµœì‹ í™”(Update)í•©ë‹ˆë‹¤.",
                        mechanism: "Token Claims â” DB Upsert",
                        pros: ["íšŒì›ê°€ì… ì ˆì°¨ ì œê±°", "ê¸°ì¡´ FK(ì™¸ë˜í‚¤) ê´€ê³„ ìœ ì§€ ê°€ëŠ¥"],
                        cons: ["ë°ì´í„° ì¤‘ë³µ ì €ì¥ìœ¼ë¡œ SSoT ì›ì¹™ ìœ„ë°˜", "ì–‘ìª½ ì •ë³´ ë¶ˆì¼ì¹˜ ê°€ëŠ¥ì„±(í‡´ì‚¬ì ì²˜ë¦¬ ë“±)"],
                        color: "indigo",
                        icon: "ğŸ”„"
                    },
                    {
                        level: "Level 3",
                        key: "stateless",
                        name: "ì™„ì „ ë¬´ìƒíƒœ (Stateless)",
                        tagline: "ê¶Œì¥ ì•„í‚¤í…ì²˜",
                        desc: "ë¡œì»¬ DBì—ì„œ ì‚¬ìš©ì í…Œì´ë¸”ì„ ì™„ì „íˆ ì œê±°í•©ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” ì˜¤ì§ í† í°ì˜ ì„œëª…ê³¼ ìœ íš¨ê¸°ê°„ë§Œ ì‹ ë¢°í•˜ë©°, ì‚¬ìš©ì ì •ë³´ëŠ” í† í° í˜ì´ë¡œë“œì—ì„œ ì§ì ‘ êº¼ë‚´ ì‚¬ìš©í•©ë‹ˆë‹¤.",
                        mechanism: "No DB Access, Verify Only",
                        pros: ["ë¬´í•œ í™•ì¥ì„± & Zero ê´€ë¦¬", "ê°œì¸ì •ë³´ ë¦¬ìŠ¤í¬ ì œê±°"],
                        cons: ["ì¡°ì¸(Join) ì¿¼ë¦¬ ë¶ˆê°€", "ë§ˆì´ê·¸ë ˆì´ì…˜ ë‚œì´ë„ ë†’ìŒ"],
                        color: "emerald",
                        icon: "âœ¨"
                    }
                ]
            },
            toolkit: [
                { stack: "PHP", category: "Backend", name: "firebase/php-jwt", desc: "ê°€ì¥ ë„ë¦¬ ì“°ì´ëŠ” ê²½ëŸ‰ JWT ë””ì½”ë”© ë¼ì´ë¸ŒëŸ¬ë¦¬. ì˜ì¡´ì„±ì´ ì ì–´ ë ˆê±°ì‹œ í†µí•©ì— ìœ ë¦¬.", link: "GitHub / Packagist", url: "https://github.com/firebase/php-jwt" },
                { stack: "PHP", category: "Backend", name: "auth0/auth0-php", desc: "OIDC ì „ì²´ íë¦„ì„ ì²˜ë¦¬í•˜ëŠ” ê°•ë ¥í•œ SDK. ë¡œê·¸ì¸ ë¦¬ë‹¤ì´ë ‰íŠ¸ ë° í† í° ê²€ì¦ ìë™í™”.", link: "GitHub / Packagist", url: "https://github.com/auth0/auth0-PHP" },
                { stack: "Go", category: "Backend", name: "coreos/go-oidc", desc: "OIDC Discovery ë¬¸ì„œë¥¼ í†µí•´ í¼ë¸”ë¦­ í‚¤ë¥¼ ìë™ ê°±ì‹ í•˜ê³  ê²€ì¦í•˜ëŠ” ë¡œì§ ë‚´ì¥.", link: "GitHub / Module", url: "https://github.com/coreos/go-oidc" },
                { stack: "C# .NET (Winform/WPF)", category: "Desktop", name: "auth0/WinFormsWPF-oidc", desc: "ë„¤ì´í‹°ë¸Œ ì•±ì„ ìœ„í•œ ì¸ì¦ ë¼ì´ë¸ŒëŸ¬ë¦¬. WPF/WinForms ë“±ì˜ ë°ìŠ¤í¬í†± ì•±ì—ì„œ PCKE íë¦„ ì§€ì› ì˜ˆì œ.", link: "GitHub", url: "https://github.com/auth0-samples/auth0-WinFormsWPF-oidc-samples" },
                { stack: "C# .NET (MAUI)", category: "Mobile/Desktop", name: "Microsoft.Identity.Client", desc: "MSAL for .NET. ì•ˆë“œë¡œì´ë“œ, iOS, ìœˆë„ìš° ë“± ë©€í‹°í”Œë«í¼ ì¸ì¦ì„ ë‹¨ì¼ ì½”ë“œë¡œ ì²˜ë¦¬ ê°€ëŠ¥.", link: "NuGet", url: "https://www.nuget.org/packages/Microsoft.Identity.Client" },
                { stack: "C# .NET (Blazor)", category: "Frontend", name: "WebAssembly.Authentication", desc: "Blazor WASMì„ ìœ„í•œ ë‚´ì¥ ì¸ì¦ ë¼ì´ë¸ŒëŸ¬ë¦¬. ASP.NET Core Identity ë° OIDCì™€ ë§¤ë„ëŸ½ê²Œ í†µí•©.", link: "MS Docs", url: "https://learn.microsoft.com/en-us/aspnet/core/blazor/security/webassembly/" },
                { stack: "Flutter", category: "Mobile", name: "flutter_appauth", desc: "AppAuth ë„¤ì´í‹°ë¸Œ SDK ë˜í¼. PKCE íë¦„ì„ ì™„ë²½ ì§€ì›í•˜ì—¬ ë³´ì•ˆì„± ìµœìƒ.", link: "Pub.dev", url: "https://pub.dev/packages/flutter_appauth" },
                { stack: "Node (Express)", category: "Backend", name: "auth0/express-oauth2-jwt-bearer", desc: "ë¯¸ë“¤ì›¨ì–´ í˜•íƒœë¡œ í† í° ê²€ì¦. ë¼ìš°íŠ¸ ë³„ ë³´í˜¸ê°€ ë§¤ìš° ê°„í¸í•¨.", link: "NPM", url: "https://www.npmjs.com/package/@auth0/express-oauth2-jwt-bearer" },
                { stack: "Node (React)", category: "Frontend", name: "react-oidc-context", desc: "React Context API ê¸°ë°˜. í›…(Hook)ì„ í†µí•´ ë¡œê·¸ì¸ ìƒíƒœì™€ ì‚¬ìš©ì ì •ë³´ë¥¼ ì „ì—­ ê´€ë¦¬.", link: "NPM", url: "https://www.npmjs.com/package/react-oidc-context" },
            ],
            deepdive: {
                rfcData: [
                    { id: "RFC 6749", title: "OAuth 2.0 Authorization Framework", type: "Core", desc: "OAuth 2.0ì˜ í•µì‹¬ í”„ë ˆì„ì›Œí¬ ì •ì˜. 4ê°€ì§€ ê¶Œí•œ ë¶€ì—¬ ë°©ì‹(Grant Types)ì„ í¬í•¨.", link: "https://datatracker.ietf.org/doc/html/rfc6749" },
                    { id: "RFC 6750", title: "Bearer Token Usage", type: "Token", desc: "ë³´í˜¸ëœ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ Bearer í† í°ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ëª…ì„¸.", link: "https://datatracker.ietf.org/doc/html/rfc6750" },
                    { id: "RFC 7519", title: "JSON Web Token (JWT)", type: "Token", desc: "ë‹¹ì‚¬ì ê°„ì˜ ì •ë³´ë¥¼ JSON ê°œì²´ë¡œ ì•ˆì „í•˜ê²Œ ì „ì†¡í•˜ê¸° ìœ„í•œ ì»´íŒ©íŠ¸í•˜ê³  ë…ë¦½ì ì¸ ë°©ì‹.", link: "https://datatracker.ietf.org/doc/html/rfc7519" },
                    { id: "RFC 7636", title: "PKCE (Proof Key for Code Exchange)", type: "Security", desc: "ê³µìš© í´ë¼ì´ì–¸íŠ¸(Public Client)ë¥¼ ìœ„í•œ ì¸ì¦ ì½”ë“œ ê°€ë¡œì±„ê¸° ê³µê²© ë°©ì§€ í™•ì¥ í‘œì¤€.", link: "https://datatracker.ietf.org/doc/html/rfc7636" },
                    { id: "OIDC Core", title: "OpenID Connect Core 1.0", type: "OIDC", desc: "OAuth 2.0 ìœ„ì—ì„œ ë™ì‘í•˜ëŠ” ì‹ë³„(Identity) ê³„ì¸µ. ID Tokenì„ í†µí•´ ì‚¬ìš©ì ì •ë³´ë¥¼ ì œê³µ.", link: "https://openid.net/specs/openid-connect-core-1_0.html" },
                    { id: "RFC 6819", title: "OAuth 2.0 Threat Model", type: "Security", desc: "OAuth 2.0ì˜ ë³´ì•ˆ ìœ„í˜‘ ëª¨ë¸ ë° ë³´ì•ˆ ê³ ë ¤ì‚¬í•­ ê°€ì´ë“œ.", link: "https://datatracker.ietf.org/doc/html/rfc6819" },
                    { id: "RFC 8252", title: "OAuth 2.0 for Native Apps", type: "Client", desc: "ë„¤ì´í‹°ë¸Œ/ëª¨ë°”ì¼ ì•±ì—ì„œ OAuth 2.0ì„ êµ¬í˜„í•  ë•Œì˜ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ (AppAuth ë“±).", link: "https://datatracker.ietf.org/doc/html/rfc8252" }
                ],
                flowSteps: {
                    standard: [
                        { step: 1, actor: "User", action: "ë¡œê·¸ì¸ í´ë¦­", detail: "í´ë¼ì´ì–¸íŠ¸ ì•±ì´ ê¶Œí•œ ë¶€ì—¬ ì„œë²„ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸" },
                        { step: 2, actor: "Client", action: "Authorization Request", detail: "response_type=code, client_id, redirect_uri, scope, state", highlight: false },
                        { step: 3, actor: "Auth Server", action: "ì¸ì¦ ë° ë™ì˜", detail: "ì‚¬ìš©ì ë¡œê·¸ì¸ ë° ê¶Œí•œ ìŠ¹ì¸" },
                        { step: 4, actor: "Auth Server", action: "Authorization Code ë°œê¸‰", detail: "redirect_urië¡œ 1íšŒìš© ì½”ë“œ ì „ë‹¬" },
                        { step: 5, actor: "Client", action: "Token Request", detail: "grant_type=authorization_code, code, client_id, client_secret", highlight: true },
                        { step: 6, actor: "Auth Server", action: "Access Token ë°œê¸‰", detail: "client_secret ê²€ì¦ ì„±ê³µ ì‹œ í† í° ë°˜í™˜" }
                    ],
                    pkce: [
                        { step: 1, actor: "User", action: "ë¡œê·¸ì¸ í´ë¦­ (PKCE ì‹œì‘)", detail: "í´ë¼ì´ì–¸íŠ¸ê°€ code_verifier ìƒì„± ë° code_challenge í•´ì‹±" },
                        { step: 2, actor: "Client", action: "Authorization Request (+PKCE)", detail: "response_type=code, client_id, code_challenge, code_challenge_method=S256", highlight: true },
                        { step: 3, actor: "Auth Server", action: "ì¸ì¦ ë° ì½”ë“œ ì €ì¥", detail: "ì‚¬ìš©ì ì¸ì¦ í›„ code_challengeë¥¼ ì„ì‹œ ì €ì¥" },
                        { step: 4, actor: "Auth Server", action: "Authorization Code ë°œê¸‰", detail: "redirect_urië¡œ 1íšŒìš© ì½”ë“œ ì „ë‹¬" },
                        { step: 5, actor: "Client", action: "Token Request (+Verifier)", detail: "grant_type=authorization_code, code, client_id, code_verifier", highlight: true },
                        { step: 6, actor: "Auth Server", action: "ê²€ì¦ ë° í† í° ë°œê¸‰", detail: "Hash(code_verifier) == ì €ì¥ëœ code_challenge ë¹„êµ ê²€ì¦" }
                    ]
                }
            }
        };

        let currentChart = null;
        let securityChart = null;
        let isPkceMode = false;

        // Router Function
        function router(route) {
            // Update Sidebar UI
            document.querySelectorAll('.nav-item').forEach(el => {
                if (el.dataset.target === route) {
                    el.classList.add('bg-slate-800', 'text-white');
                    el.classList.remove('opacity-70');
                } else {
                    el.classList.remove('bg-slate-800', 'text-white');
                }
            });

            const contentArea = document.getElementById('content-area');
            contentArea.innerHTML = ''; // Clear content

            // Inject Content based on Route
            switch (route) {
                case 'overview':
                    renderOverview(contentArea);
                    break;
                case 'architecture':
                    renderArchitecture(contentArea);
                    break;
                case 'jwt':
                    renderJWT(contentArea);
                    break;
                case 'legacy':
                    renderLegacy(contentArea);
                    break;
                case 'implementation':
                    renderImplementation(contentArea);
                    break;
                case 'deepdive':
                    renderDeepDive(contentArea);
                    break;
                case 'integration':
                    renderIntegration(contentArea);
                    break;
                default:
                    renderOverview(contentArea);
            }

            // After rendering, scroll to and focus the section for direct linking
            setTimeout(() => {
                const section = document.getElementById(route);
                if (section) {
                    section.setAttribute('tabindex', '-1');
                    section.focus({ preventScroll: true });
                    section.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }, 60);
        }

        // --- Render Functions ---

        function renderOverview(container) {
            const data = appData.overview;

            container.innerHTML = `
                <section id="overview" class="content-section space-y-6 animate-fade-in" tabindex="-1">
                    <!-- Intro Header -->
                    <div class="bg-white p-8 rounded-2xl shadow-sm border border-slate-200">
                        <span class="inline-block px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-semibold mb-4 tracking-wide uppercase">Research Plan V2.0</span>
                        <h2 class="text-3xl font-bold text-slate-900 mb-4">${data.title}</h2>
                        <p class="text-lg text-slate-600 leading-relaxed max-w-5xl mx-auto">${data.summary}</p>
                    </div>

                    <!-- Key Goals Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        ${data.goals.map(goal => `
                            <div class="glass-panel p-6 rounded-xl hover:shadow-lg transition-shadow duration-300">
                                <div class="text-4xl mb-4">${goal.icon}</div>
                                <h3 class="text-xl font-bold text-slate-800 mb-2">${goal.title}</h3>
                                <p class="text-slate-600">${goal.desc}</p>
                            </div>
                        `).join('')}
                    </div>

                    <!-- Call to Action / Next Step Context -->
                    <div class="bg-gradient-to-r from-slate-900 to-indigo-900 p-8 rounded-2xl shadow-lg border border-indigo-700/50 relative overflow-hidden group">
                         <!-- Background effects -->
                        <div class="absolute top-0 right-0 p-8 opacity-5 text-white text-8xl font-black pointer-events-none transform translate-x-10 -translate-y-10 group-hover:scale-110 transition-transform duration-700">ğŸš€</div>
                        <div class="absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"></div>
                        
                        <div class="relative z-10">
                            <h4 class="text-indigo-300 font-bold mb-3 uppercase tracking-wider text-sm flex items-center gap-2">
                                <span class="w-8 h-0.5 bg-indigo-500 inline-block"></span>
                                ì‹œìŠ¤í…œ ê°œì„  ë°©í–¥ (Core Mission)
                            </h4>
                            <p class="text-xl md:text-2xl text-white font-bold leading-relaxed mb-4">
                                ê¸°ì¡´ì˜ '<span class="text-slate-400 decoration-slate-500">ê°œë³„ ì‹œìŠ¤í…œ ì¸ì¦</span>'ì„ íê¸°í•˜ê³ ,<br>
                                <span class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-200 to-white">ë°”ë¡  í†µí•©ë¡œê·¸ì¸(IdP) ê¸°ë°˜ ë¬´ìƒíƒœ(Stateless) ì•„í‚¤í…ì²˜</span>ë¡œ ì „í™˜í•©ë‹ˆë‹¤.
                            </p>
                            <p class="text-indigo-200/80 text-sm md:text-base border-t border-indigo-800/50 pt-4 mt-2">
                                ì´ë¥¼ í†µí•´ ê°œë°œ ë¦¬ì†ŒìŠ¤ë¥¼ <strong>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ì§‘ì¤‘</strong>í•˜ê³ , ë³´ì•ˆ ë¦¬ìŠ¤í¬ë¥¼ ì „ë¬¸ ì‹œìŠ¤í…œì— <strong> ìœ„ì„</strong>í•©ë‹ˆë‹¤.
                            </p>
                        </div>
                    </div>
                </section>
            `;
        }

        function renderArchitecture(container) {
            const data = appData.architecture;

            container.innerHTML = `
                <section id="architecture" class="content-section space-y-8 animate-fade-in" tabindex="-1">
                    <!-- Section Intro -->
                    <div>
                        <h2 class="text-2xl font-bold text-slate-900 mb-3">OIDC ê¸°ë°˜ ë¬´ìƒíƒœ(Stateless) ì•„í‚¤í…ì²˜</h2>
                        <p class="text-slate-600">ì‚¬ìš©ì í…Œì´ë¸”(User Table)ì„ ê°€ì§€ì§€ ì•ŠëŠ” êµ¬ì¡°ì˜ í•µì‹¬ì€ <strong>"ì‹ ë¢°(Trust)ì˜ ìœ„ì„"</strong>ì…ë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì‚¬ìš©ìê°€ ëˆ„êµ¬ì¸ì§€ ì§ì ‘ ì €ì¥í•˜ì§€ ì•Šê³ , ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë°œê¸‰ì(Issuer)ê°€ ì„œëª…í•œ í† í°ì„ í†µí•´ ì‹ ì›ì„ í™•ì¸í•©ë‹ˆë‹¤.</p>
                    </div>

                    <!-- Main Flow Card -->
                    <div class="bg-white p-8 rounded-2xl shadow-sm border border-slate-200 overflow-hidden relative">
                        <!-- Header with Expand Button -->
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 border-b pb-2 gap-4">
                            <h3 class="text-lg font-bold text-slate-800">ì¸ì¦ ë° ë°ì´í„° íë¦„ë„</h3>
                            <button onclick="toggleArchDetails()" id="arch-toggle-btn" class="inline-flex items-center gap-2 px-4 py-1.5 bg-indigo-50 text-indigo-600 font-bold border border-indigo-200 rounded-full hover:bg-indigo-100 transition-all text-xs shadow-sm">
                                <span>ğŸ” ìƒì„¸ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ ë³´ê¸° (Expand)</span>
                            </button>
                        </div>
                        
                        <!-- Simple Flow Diagram (Always Visible) -->
                        <div class="overflow-x-auto pb-6">
                            <div class="flex flex-col md:flex-row items-center justify-between gap-4 min-w-[800px]">
                                <!-- User -->
                                <div class="flex flex-col items-center group cursor-pointer">
                                    <div class="w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center text-3xl border-2 border-slate-300 group-hover:border-indigo-500 transition-colors">ğŸ‘¤</div>
                                    <span class="mt-2 font-bold text-slate-700">ì‚¬ìš©ì (User)</span>
                                </div>

                                <div class="flex-1 h-px bg-slate-300 relative mx-4">
                                    <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 text-xs text-slate-500 bg-white px-2">1. Redirect</div>
                                </div>

                                <!-- IdP -->
                                <div class="flex flex-col items-center group cursor-pointer">
                                    <div class="w-32 h-16 bg-indigo-50 rounded-lg flex items-center justify-center text-xl border-2 border-indigo-200 group-hover:border-indigo-500 transition-colors">ğŸ¢ OIDC IdP</div>
                                    <span class="mt-2 font-bold text-indigo-700">ë°”ë¡  í†µí•©ë¡œê·¸ì¸</span>
                                </div>

                                <div class="flex-1 h-px bg-slate-300 relative mx-4">
                                    <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 text-xs text-slate-500 bg-white px-2">2. Issue JWT</div>
                                </div>

                                <!-- App Server -->
                                <div class="flex flex-col items-center group cursor-pointer">
                                    <div class="w-32 h-16 bg-green-50 rounded-lg flex items-center justify-center text-xl border-2 border-green-200 group-hover:border-green-500 transition-colors">ê°œë³„ ì„œë¹„ìŠ¤</div>
                                    <span class="mt-2 font-bold text-green-700">Auth Controller</span>
                                </div>
                            </div>
                        </div>

                        <!-- Detailed Sequence Diagram (Hidden by default) -->
                        <div id="detailed-architecture-flow" class="hidden mt-6 bg-slate-50 rounded-xl border border-slate-200 overflow-x-auto">
                            <div class="min-w-[700px] relative font-mono text-sm p-6">
                                <!-- Grid Layout -->
                                <div class="grid grid-cols-3 gap-4 text-center mb-4 font-bold text-slate-700">
                                    <div>ì‚¬ìš©ì (User)</div>
                                    <div>í†µí•©ë¡œê·¸ì¸ (IdP)</div>
                                    <div>ì„œë¹„ìŠ¤ (RP)</div>
                                </div>

                                <!-- Lifelines -->
                                <div class="absolute top-8 bottom-0 left-[16.66%] w-px border-l-2 border-dashed border-slate-300"></div>
                                <div class="absolute top-8 bottom-0 left-[50%] w-px border-l-2 border-dashed border-slate-300"></div>
                                <div class="absolute top-8 bottom-0 left-[83.33%] w-px border-l-2 border-dashed border-slate-300"></div>

                                <!-- Sequence Steps -->
                                <div class="space-y-8 relative pt-4">
                                    <!-- Step 1: User -> RP (Direct Access Attempt) -->
                                    <div class="relative h-8 w-full">
                                        <div class="absolute top-1/2 left-[16.66%] right-[16.66%] h-0.5 bg-slate-400"></div>
                                        <div class="absolute top-1/2 right-[16.66%] w-0 h-0 border-t-4 border-b-4 border-l-8 border-t-transparent border-b-transparent border-l-slate-600 transform -translate-y-[4px]"></div>
                                        <span class="absolute top-[-10px] left-1/2 transform -translate-x-1/2 bg-slate-50 px-2 text-xs font-bold text-slate-600">1. ì ‘ê·¼ (Access)</span>
                                    </div>

                                    <!-- Step 2: RP -> IdP (Redirect) -->
                                    <div class="relative h-8 w-full">
                                        <div class="absolute top-1/2 left-[50%] right-[16.66%] h-0.5 bg-indigo-400"></div>
                                        <!-- Arrow pointing LEFT to IdP -->
                                        <div class="absolute top-1/2 left-[50%] w-0 h-0 border-t-4 border-b-4 border-r-8 border-t-transparent border-b-transparent border-r-indigo-600 transform -translate-y-[4px]"></div>
                                        <span class="absolute top-[-10px] left-[66.66%] transform -translate-x-1/2 bg-slate-50 px-2 text-xs font-bold text-indigo-600">2. Redirect (Scope ìš”ì²­)</span>
                                    </div>

                                    <!-- Step 3: Login Interaction (User <-> IdP) -->
                                    <div class="relative h-8 w-full">
                                        <!-- Dotted Line User(16.66%) <-> IdP(50%) -->
                                        <div class="absolute top-1/2 left-[16.66%] right-[50%] h-px border-t-2 border-dotted border-slate-600"></div>
                                        <!-- Arrowheads (Optional for interaction, but added for clarity) -->
                                        <div class="absolute top-1/2 left-[16.66%] w-1 h-1 bg-slate-600 rounded-full transform -translate-y-[2px]"></div>
                                        <div class="absolute top-1/2 left-[50%] w-1 h-1 bg-slate-600 rounded-full transform -translate-x-[4px] -translate-y-[2px]"></div>
                                        
                                        <!-- Label -->
                                        <div class="absolute top-[-10px] left-[33.33%] transform -translate-x-1/2 min-w-max z-10">
                                            <span class="bg-slate-50 px-2 text-xs font-bold text-slate-700">3. ë¡œê·¸ì¸ ë° ë™ì˜ (ë¹„ë°€ë²ˆí˜¸/ë§í¬/QR)</span>
                                        </div>
                                    </div>

                                    <!-- Step 4: IdP -> RP (Auth Code) -->
                                    <div class="relative h-8 w-full">
                                        <div class="absolute top-1/2 left-[50%] right-[16.66%] h-0.5 bg-slate-400"></div>
                                        <!-- Arrow pointing RIGHT to RP -->
                                        <div class="absolute top-1/2 right-[16.66%] w-0 h-0 border-t-4 border-b-4 border-l-8 border-t-transparent border-b-transparent border-l-slate-600 transform -translate-y-[4px]"></div>
                                        <span class="absolute top-[-10px] left-[66.66%] transform -translate-x-1/2 bg-slate-50 px-2 text-xs font-bold text-slate-600">4. Auth Code (Callback)</span>
                                    </div>

                                    <!-- Step 5: RP <-> IdP (Token Exchange) -->
                                    <div class="relative h-8 w-full">
                                        <div class="absolute top-1/2 left-[50%] right-[16.66%] h-0.5 bg-green-500"></div>
                                        <!-- Left Arrow -->
                                        <div class="absolute top-1/2 left-[50%] w-0 h-0 border-t-4 border-b-4 border-r-8 border-t-transparent border-b-transparent border-r-green-600 transform -translate-y-[4px]"></div>
                                        <!-- Right Arrow -->
                                        <div class="absolute top-1/2 right-[16.66%] w-0 h-0 border-t-4 border-b-4 border-l-8 border-t-transparent border-b-transparent border-l-green-600 transform -translate-y-[4px]"></div>
                                        <span class="absolute top-[-10px] left-[66.66%] transform -translate-x-1/2 bg-slate-50 px-2 text-xs font-bold text-green-600">5. Token êµí™˜ (Back-channel)</span>
                                    </div>

                                    <!-- Step 6: Login Complete at RP -->
                                    <div class="grid grid-cols-3 gap-4 items-center relative">
                                        <div class="col-start-3 justify-self-center z-10">
                                            <div class="bg-indigo-100 border-2 border-indigo-400 px-3 py-2 rounded shadow-sm text-xs text-indigo-900">
                                                <strong>6. ë¡œê·¸ì¸ ì™„ë£Œ</strong><br>
                                                <span class="text-[10px] opacity-75">Custom Claims: Dept, Rank</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Key Points (Footer) -->
                        <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="bg-yellow-50 p-4 rounded-lg border border-yellow-200 text-sm text-yellow-800 flex items-start gap-3">
                                <span class="text-xl">ğŸ’¡</span>
                                <div>
                                    <strong>í•µì‹¬ í¬ì¸íŠ¸ (Core Verification):</strong> ë°±ì—”ë“œ ì„œë²„ëŠ” DB ì¡°íšŒë¥¼ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëŒ€ì‹  IdPì˜ ê³µê°œí‚¤(Public Key)ë¥¼ ì‚¬ìš©í•˜ì—¬ JWTì˜ ì„œëª…ì„ ê²€ì¦í•©ë‹ˆë‹¤. ì„œëª…ì´ ìœ íš¨í•˜ë‹¤ë©´, í† í° ë‚´ë¶€ì˜ ì‚¬ìš©ì ì •ë³´(payload)ë¥¼ ì‹ ë¢°í•˜ê³  ì¦‰ì‹œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
                                </div>
                            </div>
                            <div class="bg-blue-50 p-4 rounded-lg border border-blue-200 text-sm text-blue-900 flex items-start gap-3">
                                <span class="text-xl">ğŸš€</span>
                                <div>
                                    <strong>í™•ì¥ í¬ì¸íŠ¸ (Scalability):</strong> ì´ ë°©ì‹ì€ RPê°€ ë§¤ë²ˆ ì‚¬ìš©ì DBë¥¼ ì¡°íšŒí•  í•„ìš”ë¥¼ ì—†ì•±ë‹ˆë‹¤. í•„ìš”í•œ ëª¨ë“  ì •ë³´ëŠ” ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” IdPê°€ ì„œëª…í•œ í† í° ì•ˆì— ë“¤ì–´ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Advantages Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        ${data.benefits.map(item => `
                            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-indigo-300 transition-colors">
                                <h4 class="text-lg font-bold text-indigo-900 mb-2 flex items-center gap-2">
                                    <span class="w-2 h-2 rounded-full bg-indigo-500"></span>
                                    ${item.title}
                                </h4>
                                <p class="text-slate-600 text-sm leading-relaxed">${item.desc}</p>
                            </div>
                        `).join('')}
                    </div>
                </section>
            `;
        }

        function renderJWT(container) {
            container.innerHTML = `
                <section id="jwt" class="content-section space-y-8 animate-fade-in" tabindex="-1">
                    <!-- Intro -->
                    <div>
                        <h2 class="text-2xl font-bold text-slate-900 mb-3">ê¸°ìˆ ì  ì œì•ˆ: ì™œ JWTì¸ê°€?</h2>
                        <p class="text-slate-600">ì—°êµ¬ ê³„íšì—ì„œ ì„¸ì…˜/ì¿ í‚¤ ë°©ì‹ ëŒ€ì‹  JWTë¥¼ ì±„íƒí•´ì•¼ í•˜ëŠ” ê¸°ìˆ ì  ê·¼ê±°ë¥¼ ì •ë¦¬í•©ë‹ˆë‹¤. í˜„ëŒ€ì ì¸ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë° ëª¨ë°”ì¼ í™˜ê²½ì—ì„œ JWTëŠ” í•„ìˆ˜ì ì…ë‹ˆë‹¤.</p>
                    </div>

                    <!-- Comparison & Chart Section -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        
                        <!-- Comparison Table -->
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                            <h3 class="text-lg font-bold text-slate-800 mb-4">JWT vs Session ë¹„êµ</h3>
                            <div class="overflow-hidden rounded-lg border border-slate-200">
                                <table class="min-w-full text-sm text-left">
                                    <thead class="bg-slate-50 text-slate-700 font-semibold">
                                        <tr>
                                            <th class="px-4 py-3">êµ¬ë¶„</th>
                                            <th class="px-4 py-3 text-red-600">Session/Cookie</th>
                                            <th class="px-4 py-3 text-green-600">JWT (OIDC)</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-slate-100">
                                        ${appData.jwt.comparison.map(row => `
                                            <tr class="hover:bg-slate-50 transition-colors">
                                                <td class="px-4 py-3 font-medium text-slate-900">${row.feature}</td>
                                                <td class="px-4 py-3 text-slate-500">${row.session}</td>
                                                <td class="px-4 py-3 text-slate-700 bg-green-50/50 font-medium">${row.jwt}</td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Chart Container -->
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200 flex flex-col">
                            <h3 class="text-lg font-bold text-slate-800 mb-2">í™•ì¥ì„± ì‹œë®¬ë ˆì´ì…˜ (Scalability)</h3>
                            <p class="text-xs text-slate-500 mb-4">ë™ì‹œ ì ‘ì†ì ì¦ê°€ì— ë”°ë¥¸ ì„œë²„ ë¶€í•˜ ë¹„êµ</p>
                            
                            <div class="flex-grow flex items-center justify-center w-full">
                                <div class="chart-container">
                                    <canvas id="scalabilityChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Technical Deep Dive Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="bg-indigo-50 p-6 rounded-xl border border-indigo-100">
                            <h4 class="font-bold text-indigo-900 mb-2">Statelessì˜ ì§„ì •í•œ ì˜ë¯¸</h4>
                            <p class="text-sm text-indigo-800">ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ì˜ ìƒíƒœë¥¼ ê¸°ì–µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ìš”ì²­ í•˜ë‚˜í•˜ë‚˜ê°€ ì™„ì „í•´ì•¼ í•˜ë¯€ë¡œ, ì„œë²„ë¥¼ 1ëŒ€ì—ì„œ 100ëŒ€ë¡œ ëŠ˜ë ¤ë„ ë³„ë„ì˜ ì„¸ì…˜ ë™ê¸°í™” ì‘ì—…ì´ ì „í˜€ í•„ìš” ì—†ìŠµë‹ˆë‹¤ (Zero Devops Overhead).</p>
                        </div>
                        <div class="bg-slate-50 p-6 rounded-xl border border-slate-200">
                            <h4 class="font-bold text-slate-900 mb-2">í¬ë¡œìŠ¤ ë„ë©”ì¸ ì´ìŠˆ í•´ê²°</h4>
                            <p class="text-sm text-slate-600">ì¿ í‚¤ëŠ” ë„ë©”ì¸ ì •ì±…(SameSite, CORS)ì— ë§¤ìš° ë¯¼ê°í•©ë‹ˆë‹¤. JWTëŠ” HTTP Header(Authorization)ì— ì‹¤ë ¤ ì „ì†¡ë˜ë¯€ë¡œ, API ì„œë²„ì™€ í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„ì˜ ë„ë©”ì¸ì´ ë‹¬ë¼ë„ ì²˜ë¦¬ê°€ ê°„í¸í•©ë‹ˆë‹¤.</p>
                        </div>
                        <div class="bg-slate-50 p-6 rounded-xl border border-slate-200">
                            <h4 class="font-bold text-slate-900 mb-2">ëª¨ë°”ì¼ ë„¤ì´í‹°ë¸Œ ì•± í†µí•©</h4>
                            <p class="text-sm text-slate-600">ì›¹ë·°ê°€ ì•„ë‹Œ ë„¤ì´í‹°ë¸Œ ì•± í†µì‹ ì—ì„œëŠ” ì¿ í‚¤ ê´€ë¦¬ê°€ ê¹Œë‹¤ë¡­ìŠµë‹ˆë‹¤. JWTëŠ” ë‹¨ìˆœ ë¬¸ìì—´ë¡œ ì €ì¥ ë° ì „ì†¡ì´ ê°€ëŠ¥í•˜ì—¬ Flutter, iOS, Android ë“± ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë™ì¼í•œ ë¡œì§ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
                        </div>
                    </div>
                </section>
            `;

            // Initialize Chart after DOM is ready
            setTimeout(initChart, 0);
        }

        function renderImplementation(container) {
            container.innerHTML = `
                <section id="implementation" class="content-section space-y-8 animate-fade-in pb-12" tabindex="-1">
                    <!-- Intro -->
                    <div>
                        <h2 class="text-2xl font-bold text-slate-900 mb-3">êµ¬í˜„ íˆ´í‚· & ë¼ì´ë¸ŒëŸ¬ë¦¬</h2>
                        <p class="text-slate-600">ì—°êµ¬íŒ€ì´ ì¦‰ì‹œ ë„ì… ê°€ëŠ¥í•œ í”Œë«í¼ë³„ ê²€ì¦ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ê´€ë ¨ë¬¸ì„œì…ë‹ˆë‹¤. ê° ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” OIDC/JWT í‘œì¤€ì„ ì¤€ìˆ˜í•©ë‹ˆë‹¤.</p>
                    </div>

                    <!-- Filters -->
                    <div class="flex flex-wrap gap-2" id="tech-filters">
                        <button onclick="filterTech('All')" class="px-4 py-2 rounded-full text-sm font-medium bg-slate-800 text-white shadow-md transition-all hover:bg-slate-700">All</button>
                        <button onclick="filterTech('PHP')" class="px-4 py-2 rounded-full text-sm font-medium bg-white text-slate-600 border border-slate-200 hover:border-indigo-500 hover:text-indigo-600 transition-all">PHP</button>
                        <button onclick="filterTech('Go')" class="px-4 py-2 rounded-full text-sm font-medium bg-white text-slate-600 border border-slate-200 hover:border-indigo-500 hover:text-indigo-600 transition-all">Go</button>
                        <button onclick="filterTech('Node')" class="px-4 py-2 rounded-full text-sm font-medium bg-white text-slate-600 border border-slate-200 hover:border-indigo-500 hover:text-indigo-600 transition-all">Node (JS/TS)</button>
                        <button onclick="filterTech('Flutter')" class="px-4 py-2 rounded-full text-sm font-medium bg-white text-slate-600 border border-slate-200 hover:border-indigo-500 hover:text-indigo-600 transition-all">Flutter</button>
                        <button onclick="filterTech('C# .NET')" class="px-4 py-2 rounded-full text-sm font-medium bg-white text-slate-600 border border-slate-200 hover:border-indigo-500 hover:text-indigo-600 transition-all">C# .NET</button>
                    </div>

                    <!-- Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 xl:flex-1 xl:min-h-0 xl:overflow-y-auto pr-2" id="tech-grid">
                        ${renderTechCards(appData.toolkit)}
                    </div>
                </section>
            `;
        }

        function renderTechCards(items) {
            if (items.length === 0) return '<p class="text-slate-500 col-span-3 text-center py-8">í•´ë‹¹í•˜ëŠ” í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.</p>';

            return items.map(item => `
                <div class="bg-white p-6 rounded-xl border border-slate-200 hover:shadow-md transition-all group relative overflow-hidden">
                    <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                        <span class="text-6xl font-black text-slate-900">${item.stack.split(' ')[0]}</span>
                    </div>
                    
                    <div class="relative z-10">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="px-2 py-1 text-xs font-bold rounded bg-slate-100 text-slate-600 uppercase">${item.stack}</span>
                            <span class="px-2 py-1 text-xs font-bold rounded bg-indigo-50 text-indigo-600 uppercase">${item.category}</span>
                        </div>
                        <h3 class="text-lg font-bold text-slate-900 mb-2">${item.name}</h3>
                        <p class="text-sm text-slate-600 mb-4 h-10 overflow-hidden text-ellipsis line-clamp-2">${item.desc}</p>
                        
                        <div class="pt-4 border-t border-slate-100 flex justify-between items-center">
                            <span class="text-xs font-medium text-slate-400">Source: ${item.link}</span>
                            <a href="${item.url || '#'}" target="_blank" rel="noopener noreferrer" class="text-sm font-bold text-indigo-600 hover:text-indigo-800 flex items-center gap-1">
                                Docs <span>â†’</span>
                            </a>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function filterTech(category) {
            // Update Active Filter Style
            const buttons = document.querySelectorAll('#tech-filters button');
            buttons.forEach(btn => {
                if (btn.textContent.includes(category) || (category === 'All' && btn.textContent === 'All')) {
                    btn.classList.add('bg-slate-800', 'text-white', 'shadow-md');
                    btn.classList.remove('bg-white', 'text-slate-600', 'border-slate-200');
                } else {
                    btn.classList.remove('bg-slate-800', 'text-white', 'shadow-md');
                    btn.classList.add('bg-white', 'text-slate-600', 'border-slate-200');
                }
            });

            // Filter Data
            const grid = document.getElementById('tech-grid');
            let filtered = appData.toolkit;

            if (category !== 'All') {
                filtered = appData.toolkit.filter(item => item.stack.includes(category));
            }

            grid.innerHTML = renderTechCards(filtered);
        }

        function toggleArchDetails() {
            const container = document.getElementById('detailed-architecture-flow');
            const btn = document.getElementById('arch-toggle-btn');

            container.classList.toggle('hidden');

            if (container.classList.contains('hidden')) {
                btn.innerHTML = '<span>ğŸ” ìƒì„¸ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ ë³´ê¸° (Expand)</span>';
                container.scrollIntoView({ behavior: 'smooth', block: 'start' });
            } else {
                btn.innerHTML = '<span>ğŸ”¼ ìƒì„¸ ë‚´ìš© ì ‘ê¸° (Collapse)</span>';
                // Slight delay to allow DOM update before scrolling
                setTimeout(() => {
                    container.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 100);
            }
        }

        function renderDeepDive(container) {
            container.innerHTML = `
                <section id="deepdive" class="content-section space-y-8 animate-fade-in" tabindex="-1">
                     <!-- Header -->
                    <header class="mb-10 text-center sm:text-left border-b border-slate-200 pb-8">
                        <h2 class="text-3xl sm:text-4xl font-extrabold text-slate-900 tracking-tight mb-3">
                            <span class="text-indigo-800">OAuth 2.0</span> & <span class="text-indigo-600">OIDC</span> ë³´ì•ˆ ê°€ì´ë“œ
                        </h2>
                        <p class="text-lg text-slate-800 max-w-3xl">
                            ì¸ì¦(Authentication)ê³¼ ê¶Œí•œ ë¶€ì—¬(Authorization)ì˜ í•µì‹¬ í‘œì¤€ì¸ OAuth 2.0, OIDC, JWTì˜ ê°œë…ì„ ì •ë¦¬í•˜ê³ , 
                            íŠ¹íˆ <span class="font-bold text-slate-800">PKCE(Proof Key for Code Exchange)</span> ì ìš© ìœ ë¬´ì— ë”°ë¥¸ ìŠ¤í™ ì°¨ì´ë¥¼ ì‹œê°ì ìœ¼ë¡œ ë¶„ì„í•©ë‹ˆë‹¤.
                        </p>
                    </header>

                    <!-- Section 1: Core Concepts Grid -->
                    <section class="mb-16">
                        <div class="mb-6">
                            <h3 class="text-2xl font-bold text-slate-800 flex items-center gap-2">
                                <span class="w-2 h-8 bg-indigo-500 rounded-full"></span>
                                í•µì‹¬ í”„ë¡œí† ì½œ ì •ì˜
                            </h3>
                            <p class="text-slate-500 mt-2">í˜„ëŒ€ ì›¹/ì•± ë³´ì•ˆì„ ì§€íƒ±í•˜ëŠ” 3ëŒ€ ê¸°ìˆ  ìš”ì†Œì— ëŒ€í•œ ìš”ì•½ì…ë‹ˆë‹¤.</p>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <!-- OAuth 2.0 Card -->
                            <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow">
                                <div class="w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mb-4 text-2xl">ğŸ”‘</div>
                                <h3 class="text-xl font-bold text-slate-800 mb-2">OAuth 2.0</h3>
                                <p class="text-sm font-semibold text-indigo-600 mb-3">ì‹ ì› í™•ì¸ í‘œì¤€</p>
                                <p class="text-slate-600 text-sm leading-relaxed">
                                    ì‚¬ìš©ìê°€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì œê³µí•˜ì§€ ì•Šê³ ë„, ì„œë“œíŒŒí‹° ì• í”Œë¦¬ì¼€ì´ì…˜ì— ìì‹ ì˜ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì„ ì œí•œì ìœ¼ë¡œ ìœ„ì„í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ê°œë°©í˜• í‘œì¤€ì…ë‹ˆë‹¤.
                                </p>
                            </div>

                            <!-- OIDC Card -->
                            <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow">
                                <div class="w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center mb-4 text-2xl">ğŸ†”</div>
                                <h3 class="text-xl font-bold text-slate-800 mb-2">OIDC (OpenID Connect)</h3>
                                <p class="text-sm font-semibold text-emerald-600 mb-3">Authentication Layer (ì¸ì¦)</p>
                                <p class="text-slate-600 text-sm leading-relaxed">
                                    OAuth 2.0 í”„ë¡œí† ì½œ ìœ„ì— êµ¬ì¶•ëœ ë‹¨ìˆœ ì‹ ì› ê³„ì¸µì…ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ ì‚¬ìš©ìì˜ ì‹ ì›(Identity)ì„ í™•ì¸í•˜ê³  í”„ë¡œí•„ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. (ID Token ì‚¬ìš©)
                                </p>
                            </div>

                            <!-- JWT Card -->
                            <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow">
                                <div class="w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center mb-4 text-2xl">ğŸ«</div>
                                <h3 class="text-xl font-bold text-slate-800 mb-2">JWT (JSON Web Token)</h3>
                                <p class="text-sm font-semibold text-amber-600 mb-3">Token Format (í† í° í¬ë§·)</p>
                                <p class="text-slate-600 text-sm leading-relaxed">
                                    ì •ë³´ë¥¼ JSON ê°ì²´ë¡œ ì•ˆì „í•˜ê²Œ ì „ì†¡í•˜ê¸° ìœ„í•œ ì»´íŒ©íŠ¸í•œ ë°©ì‹ì…ë‹ˆë‹¤. ì£¼ë¡œ ì„œëª…(Signature)ë˜ì–´ ìˆì–´ ì •ë³´ì˜ ë¬´ê²°ì„±ì„ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                                </p>
                            </div>
                        </div>
                    </section>

                    <!-- PKCE Security Alert Banner (Added) -->
                    <div class="bg-indigo-900 rounded-xl p-6 sm:p-8 text-white shadow-lg relative overflow-hidden mb-16 isolate">
                        <!-- Background Accents -->
                        <div class="absolute top-0 right-0 p-12 opacity-10 text-9xl font-black transform translate-x-1/4 -translate-y-1/4 select-none">ğŸ›¡ï¸</div>
                        <div class="absolute bottom-0 left-0 w-64 h-64 bg-indigo-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 -z-10"></div>
                        
                        <div class="relative z-10">
                            <h3 class="text-2xl font-bold mb-4 flex items-center gap-3">
                                <span class="text-3xl">ğŸš«</span>
                                <div>
                                    <span class="text-indigo-300 text-sm uppercase tracking-wider block mb-1">Security Deep Dive</span>
                                    XSS(ìŠ¤í¬ë¦½íŠ¸ì‚½ì…) & CSRF(í¬ë¡œìŠ¤ì‚¬ì´íŠ¸ ìš”ì²­ìœ„ì¡°) ë°©ì–´ì˜ í•µì‹¬: <span class="text-yellow-400">PKCE</span>
                                </div>
                            </h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div>
                                    <h4 class="font-bold text-indigo-200 mb-2">ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ (Threat)</h4>
                                    <p class="text-indigo-100 text-sm leading-relaxed mb-4">
                                        í•´ì»¤ê°€ ì‚¬ìš©ìì˜ ë¸Œë¼ìš°ì €ë¥¼ ê°ì—¼ì‹œì¼œ(XSS) ë¦¬ë‹¤ì´ë ‰íŠ¸ë˜ëŠ” <strong>Authorization Codeë¥¼ ê°€ë¡œì±„ë”ë¼ë„</strong>, 
                                        ì´ ì½”ë“œë§Œìœ¼ë¡œëŠ” ì•¡ì„¸ìŠ¤ í† í°ì„ ë°œê¸‰ë°›ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
                                    </p>
                                </div>
                                <div>
                                    <h4 class="font-bold text-green-400 mb-2">ë°©ì–´ ë©”ì»¤ë‹ˆì¦˜ (Defense)</h4>
                                    <p class="text-indigo-100 text-sm leading-relaxed">
                                        í† í° êµí™˜ ì‹œ, í´ë¼ì´ì–¸íŠ¸ê°€ ë©”ëª¨ë¦¬ì—ë§Œ ê°€ì§€ê³  ìˆë˜ <strong>Code Verifier</strong>(ì¼íšŒìš© ë¹„ë°€ë²ˆí˜¸ ì—­í• )ë¥¼ í•¨ê»˜ ì „ì†¡í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. 
                                        í•´ì»¤ëŠ” ì´ Verifierë¥¼ ì•Œ ìˆ˜ ì—†ì–´ ê³µê²©ì— ì‹¤íŒ¨í•©ë‹ˆë‹¤.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Two Column Layout for Specs and Flow -->
                    <div class="grid grid-cols-1 lg:grid-cols-12 gap-10">
                        
                        <!-- Left Column: Specs List (4 cols) -->
                        <div class="lg:col-span-4 space-y-8">
                            <section>
                                <div class="flex justify-between items-center mb-6">
                                    <h3 class="text-xl font-bold text-slate-800">í‘œì¤€ ë¬¸ì„œ (RFC) ë¼ì´ë¸ŒëŸ¬ë¦¬</h3>
                                </div>
                                
                                <!-- Search Box -->
                                <div class="relative mb-4">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <span class="text-slate-400">ğŸ”</span>
                                    </div>
                                    <input type="text" id="rfc-search" 
                                        class="block w-full pl-10 pr-3 py-2 border border-slate-300 rounded-md leading-5 bg-white placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" 
                                        placeholder="RFC ë²ˆí˜¸ ë˜ëŠ” í‚¤ì›Œë“œ ê²€ìƒ‰...">
                                </div>

                                <!-- RFC List Container -->
                                <div id="rfc-list" class="space-y-4 max-h-[600px] overflow-y-auto no-scrollbar pr-1">
                                    <!-- JS Generated Content -->
                                </div>
                            </section>
                            
                            <!-- Security Chart Section -->
                            <section class="bg-white p-5 rounded-xl border border-slate-200 shadow-sm">
                                <h3 class="text-lg font-bold text-slate-800 mb-4">ì¸ì¦ ë°©ì‹ë³„ ë³´ì•ˆ ìˆ˜ì¤€ ë¹„êµ</h3>
                                <div class="chart-container">
                                    <canvas id="securityChart"></canvas>
                                </div>
                                <p class="text-xs text-slate-500 mt-3 text-center">
                                    * PKCEëŠ” ì½”ë“œ íƒˆì·¨ ê³µê²©ì„ ë°©ì§€í•˜ì—¬ ê°€ì¥ ë†’ì€ ë³´ì•ˆ ìˆ˜ì¤€ì„ ì œê³µí•©ë‹ˆë‹¤.
                                </p>
                            </section>
                        </div>

                        <!-- Right Column: PKCE Analysis (8 cols) -->
                        <div class="lg:col-span-8">
                            <section class="bg-slate-50 rounded-2xl border border-slate-200 p-0 overflow-hidden">
                                <!-- Section Header with Toggle -->
                                <div class="bg-white p-6 border-b border-slate-200 flex flex-col sm:flex-row justify-between items-center gap-4 sticky top-0 z-20">
                                    <div>
                                        <h3 class="text-2xl font-bold text-slate-800 flex items-center gap-2">
                                            <span class="text-indigo-600">PKCE</span> ì ìš© ìœ ë¬´ ë¹„êµ ë¶„ì„
                                        </h3>
                                        <p class="text-sm text-slate-500 mt-1">
                                            í† ê¸€ ìŠ¤ìœ„ì¹˜ë¥¼ ëˆŒëŸ¬ ì¼ë°˜ íë¦„ê³¼ PKCE íë¦„ì˜ <span class="text-amber-600 font-bold">íŒŒë¼ë¯¸í„° ì°¨ì´</span>ë¥¼ í™•ì¸í•˜ì„¸ìš”.
                                        </p>
                                    </div>
                                    
                                    <!-- Toggle Switch -->
                                    <div class="flex items-center gap-3 bg-slate-100 p-2 rounded-lg">
                                        <span class="text-sm font-medium text-slate-600">Standard</span>
                                        <button id="pkce-toggle" class="bg-slate-300 relative inline-flex h-7 w-14 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none">
                                            <span class="sr-only">Use PKCE</span>
                                            <div class="pointer-events-none inline-block h-6 w-6 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out translate-x-0"></div>
                                        </button>
                                        <span class="text-sm font-medium text-slate-600">PKCE (RFC 7636)</span>
                                    </div>
                                </div>

                                <!-- Diagram Content -->
                                <div class="p-6 sm:p-10 relative bg-slate-50/50 min-h-[600px]">
                                    <!-- Context info -->
                                    <div class="flex justify-between items-center mb-8 bg-indigo-50 p-4 rounded-lg border border-indigo-100">
                                        <p class="text-sm text-indigo-800 flex items-center gap-2">
                                            <span class="text-xl">â„¹ï¸</span>
                                            <span id="pkce-status-text" class="font-bold">ê¸°ë³¸ Authorization Code</span>
                                        </p>
                                        <div class="text-xs text-indigo-600 max-w-md text-right hidden sm:block">
                                            <span class="font-bold">PKCE(Pixy)</span>ëŠ” ëª¨ë°”ì¼ ì•±ì´ë‚˜ SPA ê°™ì€ Public Clientì—ì„œ 
                                            <span class="font-mono bg-white px-1 rounded">client_secret</span>ì„ ì•ˆì „í•˜ê²Œ ì €ì¥í•  ìˆ˜ ì—†ì„ ë•Œ í•„ìˆ˜ì ì…ë‹ˆë‹¤.
                                        </div>
                                    </div>

                                    <!-- Vertical Flow Diagram -->
                                    <div class="relative pl-4 sm:pl-8 border-l-2 border-slate-200 border-dashed ml-4">
                                        <div id="flow-diagram">
                                            <!-- JS Generated Steps -->
                                        </div>
                                    </div>
                                    
                                    <!-- Analysis Box -->
                                    <div class="mt-8 bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg">
                                        <h4 class="text-amber-800 font-bold mb-2">ğŸ’¡ PKCEê°€ í•´ê²°í•˜ëŠ” ë¬¸ì œ</h4>
                                        <p class="text-sm text-amber-700 leading-relaxed mb-2">
                                            ì•…ì˜ì ì¸ ì•±ì´ ë¦¬ë‹¤ì´ë ‰íŠ¸ URIë¥¼ ê°€ë¡œì±„ Authorization Codeë¥¼ íšë“í•˜ë”ë¼ë„, 
                                            ìµœì´ˆ ìƒì„±í•œ <code>code_verifier</code>(ê²€ì¦ì)ë¥¼ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— Access Tokenìœ¼ë¡œ êµí™˜í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
                                        </p>
                                        <div class="mt-2 text-xs font-mono text-amber-900 bg-amber-100 p-2 rounded">
                                            code_challenge = Base64Url(SHA256(code_verifier))
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>
                    </div>

                    <!-- Section 3: JWT Anatomy (Bonus) -->
                    <section class="mt-16 bg-slate-900 rounded-2xl p-8 text-white shadow-xl">
                        <div class="flex flex-col md:flex-row gap-8 items-start">
                            <div class="md:w-1/3">
                                <h3 class="text-2xl font-bold mb-4 text-white">JWT êµ¬ì¡° í•´ë¶€</h3>
                                <p class="text-slate-400 mb-6 text-sm leading-relaxed">
                                    JWT(JSON Web Token)ëŠ” ì (.)ìœ¼ë¡œ êµ¬ë¶„ëœ ì„¸ ë¶€ë¶„ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ê° ë¶€ë¶„ì€ Base64Urlë¡œ ì¸ì½”ë”©ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¤ ê° ë¶€ë¶„ì˜ ì—­í• ì„ í™•ì¸í•´ë³´ì„¸ìš”.
                                </p>
                                <div class="space-y-3 text-sm">
                                    <div class="flex items-center gap-2">
                                        <div class="w-3 h-3 rounded-full bg-red-500"></div>
                                        <span><strong>Header:</strong> ì•Œê³ ë¦¬ì¦˜ ë° í† í° íƒ€ì…</span>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <div class="w-3 h-3 rounded-full bg-purple-500"></div>
                                        <span><strong>Payload:</strong> ë°ì´í„°(Claim)</span>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <div class="w-3 h-3 rounded-full bg-blue-500"></div>
                                        <span><strong>Signature:</strong> ë¬´ê²°ì„± ê²€ì¦ìš© ì„œëª…</span>
                                    </div>
                                </div>
                            </div>
                            <div class="md:w-2/3 bg-slate-800 rounded-xl p-6 font-mono text-sm break-all shadow-inner border border-slate-700">
                                <div class="mb-2 text-xs text-slate-500">Encoded (Base64Url):</div>
                                <p class="leading-loose">
                                    <span class="text-red-400 hover:bg-red-900/30 px-1 rounded cursor-help transition-colors" title='Header: {"alg": "HS256", "typ": "JWT"}'>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9</span><span class="text-slate-500">.</span><span class="text-purple-400 hover:bg-purple-900/30 px-1 rounded cursor-help transition-colors" title='Payload: {"sub": "1234567890", "name": "John Doe", "iat": 1516239022}'>eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ</span><span class="text-slate-500">.</span><span class="text-blue-400 hover:bg-blue-900/30 px-1 rounded cursor-help transition-colors" title='Signature: HMACSHA256(base64UrlEncode(header) + "." + base64UrlEncode(payload), secret)'>SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c</span>
                                </p>
                            </div>
                        </div>
                    </section>
                </section>
            `;

            // Initialize interactivity
            setTimeout(initDeepDive, 0);
        }

        function initDeepDive() {
            // Re-initialize state when view is mounted
            isPkceMode = false;

            const rfcListContainer = document.getElementById('rfc-list');
            const searchInput = document.getElementById('rfc-search');
            const pkceToggleBtn = document.getElementById('pkce-toggle');

            if (!rfcListContainer) return; // Guard clause

            // Render Initial Lists
            renderRFCs('');
            renderFlow();
            initSecurityChart();

            // Event Listeners
            searchInput.addEventListener('input', (e) => renderRFCs(e.target.value));

            pkceToggleBtn.addEventListener('click', () => {
                isPkceMode = !isPkceMode;
                togglePkceBtnStyle(pkceToggleBtn);
                renderFlow();
            });
        }

        function togglePkceBtnStyle(btn) {
            const toggleDot = btn.querySelector('div');
            const statusText = document.getElementById('pkce-status-text');

            if (isPkceMode) {
                btn.classList.remove('bg-slate-300');
                btn.classList.add('bg-indigo-600');
                toggleDot.classList.add('translate-x-6');

                statusText.textContent = "PKCE ì ìš©ë¨ (RFC 7636)";
                statusText.className = "font-bold text-indigo-600";
            } else {
                btn.classList.add('bg-slate-300');
                btn.classList.remove('bg-indigo-600');
                toggleDot.classList.remove('translate-x-6');

                statusText.textContent = "ê¸°ë³¸ Authorization Code";
                statusText.className = "font-bold text-slate-500";
            }
        }

        function renderRFCs(filter) {
            const container = document.getElementById('rfc-list');
            if (!container) return;

            container.innerHTML = '';
            const filtered = appData.deepdive.rfcData.filter(rfc =>
                rfc.title.toLowerCase().includes(filter.toLowerCase()) ||
                rfc.id.toLowerCase().includes(filter.toLowerCase()) ||
                rfc.type.toLowerCase().includes(filter.toLowerCase())
            );

            if (filtered.length === 0) {
                container.innerHTML = '<p class="text-center text-slate-500 py-4">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
                return;
            }

            filtered.forEach(rfc => {
                const el = document.createElement('div');
                el.className = "bg-white p-4 rounded-lg border border-slate-200 hover:border-indigo-400 transition-colors shadow-sm";
                el.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <span class="inline-block px-2 py-1 text-xs font-semibold rounded bg-slate-100 text-slate-600 border border-slate-200">${rfc.type}</span>
                        <a href="${rfc.link}" target="_blank" class="text-xs text-indigo-600 hover:text-indigo-800 font-medium hover:underline">ë¬¸ì„œ ë³´ê¸° &rarr;</a>
                    </div>
                    <h3 class="text-lg font-bold text-slate-800 mb-1">${rfc.id}</h3>
                    <p class="text-sm font-medium text-slate-700 mb-2">${rfc.title}</p>
                    <p class="text-sm text-slate-500 leading-relaxed">${rfc.desc}</p>
                `;
                container.appendChild(el);
            });
        }

        function renderFlow() {
            const container = document.getElementById('flow-diagram');
            if (!container) return;

            const steps = isPkceMode ? appData.deepdive.flowSteps.pkce : appData.deepdive.flowSteps.standard;
            container.innerHTML = '';

            steps.forEach((step, index) => {
                const isLast = index === steps.length - 1;

                const el = document.createElement('div');
                el.className = "relative flex items-start gap-4 mb-8";

                const highlightClass = step.highlight ? "border-amber-400 bg-amber-50 ring-2 ring-amber-100" : "border-slate-200 bg-white";
                const textHighlight = step.highlight ? "text-amber-700 font-bold" : "text-slate-600";
                const badge = step.highlight
                    ? `<span class="absolute -top-2 -right-2 bg-amber-500 text-white text-[10px] px-2 py-0.5 rounded-full font-bold shadow-sm">ë³€ê²½ì </span>`
                    : '';

                const stepIndicator = `
                    <div class="flex-shrink-0 z-10 w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold text-sm shadow-md">
                        ${step.step}
                    </div>
                `;

                const connector = !isLast ? `<div class="absolute left-4 top-8 bottom-[-32px] w-0.5 bg-slate-200 -z-0"></div>` : '';

                let detailHtml = step.detail;
                if (isPkceMode) {
                    detailHtml = detailHtml.replace('code_challenge', '<span class="bg-amber-100 text-amber-800 px-1 rounded font-mono">code_challenge</span>');
                    detailHtml = detailHtml.replace('code_verifier', '<span class="bg-amber-100 text-amber-800 px-1 rounded font-mono">code_verifier</span>');
                    detailHtml = detailHtml.replace('S256', '<span class="bg-amber-100 text-amber-800 px-1 rounded font-mono">S256</span>');
                } else {
                    detailHtml = detailHtml.replace('client_secret', '<span class="bg-red-100 text-red-800 px-1 rounded font-mono">client_secret</span>');
                }

                el.innerHTML = `
                    ${connector}
                    ${stepIndicator}
                    <div class="flex-grow step-card p-4 rounded-lg border ${highlightClass} shadow-sm relative">
                        ${badge}
                        <div class="flex justify-between mb-1">
                            <span class="text-xs font-bold uppercase tracking-wider text-slate-400">${step.actor}</span>
                        </div>
                        <h4 class="font-bold text-slate-800 text-base mb-1">${step.action}</h4>
                        <p class="text-sm ${textHighlight} font-mono break-all">${detailHtml}</p>
                    </div>
                `;
                container.appendChild(el);
            });
        }

        function initSecurityChart() {
            const ctx = document.getElementById('securityChart');
            if (!ctx) return;

            if (securityChart) {
                securityChart.destroy();
            }

            securityChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Implicit', 'Password', 'Auth Code', 'PKCE'],
                    datasets: [{
                        label: 'Security Score',
                        data: [20, 30, 70, 95],
                        backgroundColor: [
                            'rgba(239, 68, 68, 0.7)',  // Red
                            'rgba(249, 115, 22, 0.7)', // Orange
                            'rgba(59, 130, 246, 0.7)', // Blue
                            'rgba(16, 185, 129, 0.7)'  // Emerald
                        ],
                        borderColor: [
                            'rgb(239, 68, 68)',
                            'rgb(249, 115, 22)',
                            'rgb(59, 130, 246)',
                            'rgb(16, 185, 129)'
                        ],
                        borderWidth: 1,
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            title: {
                                display: true,
                                text: 'ìƒëŒ€ì  ë³´ì•ˆ ìˆ˜ì¤€'
                            }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                afterLabel: function (context) {
                                    const risks = [
                                        "URLì— í† í° ë…¸ì¶œ. í˜„ì¬ ì‚¬ìš© ê¸ˆì§€.",
                                        "PW ì§ì ‘ ë…¸ì¶œ. ì‹ ë¢° ì•±ë§Œ ì‚¬ìš©.",
                                        "Secret í•„ìš”. ë„¤ì´í‹°ë¸Œ ì•± ì·¨ì•½.",
                                        "ì½”ë“œ íƒˆì·¨ ë°©ì§€. ìµœì‹  í‘œì¤€."
                                    ];
                                    return risks[context.dataIndex];
                                }
                            }
                        }
                    }
                }
            });
        }

        function initChart() {
            const ctx = document.getElementById('scalabilityChart');
            if (!ctx) return;

            if (currentChart) {
                currentChart.destroy();
            }

            // Data simulation: Session hits DB exponentially, JWT stays flat
            currentChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['1k Users', '10k Users', '50k Users', '100k Users', '500k Users'],
                    datasets: [
                        {
                            label: 'Session (DB I/O Load)',
                            data: [10, 80, 450, 950, 4800],
                            borderColor: '#ef4444', // Red
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'JWT (CPU Verify Load)',
                            data: [5, 15, 25, 35, 55],
                            borderColor: '#22c55e', // Green
                            backgroundColor: 'rgba(34, 197, 94, 0.1)',
                            tension: 0.4,
                            fill: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'Relative Resource Cost' }
                        }
                    }
                }
            });
        }


        function renderLegacy(container) {
            const data = appData.legacy.strategies;

            container.innerHTML = `
                <section id="legacy" class="content-section space-y-10 animate-fade-in xl:h-[calc(100vh-6rem)] xl:space-y-0 xl:flex xl:flex-col xl:justify-between" tabindex="-1">
                    <!-- Intro -->
                    <div class="text-center max-w-3xl mx-auto xl:flex-none xl:mb-6">
                        <span class="inline-block px-3 py-1 bg-slate-100 text-slate-600 rounded-full text-xs font-bold mb-4 tracking-wide uppercase border border-slate-200">Migration Guide</span>
                        <h2 class="text-3xl font-bold text-slate-900 mb-2">ë ˆê±°ì‹œ ì‹œìŠ¤í…œì„ ìœ„í•œ í†µí•© ì „ëµ</h2>
                    </div>

                    <!-- Infographic / Card Grid -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 xl:flex-1 xl:min-h-0 xl:gap-8 xl:items-stretch">
                        ${data.map(strategy => {
                const isRecommended = strategy.key === 'stateless';
                const borderColor = isRecommended ? 'border-emerald-400 ring-4 ring-emerald-50' : `border-${strategy.color}-200`;
                const headerBg = isRecommended ? 'bg-gradient-to-r from-emerald-500 to-teal-500 text-white' : 'bg-slate-50 text-slate-800';

                // Visual Diagram Logic (Mini Infographic)
                let diagram = '';
                if (strategy.key === 'auth_only') {
                    diagram = `
                                    <div class="flex flex-col gap-2 text-xs font-mono mt-4 p-3 bg-slate-100 rounded border border-slate-200 opacity-80">
                                        <div class="flex justify-between items-center">
                                            <span class="bg-indigo-100 text-indigo-700 px-1 rounded">OIDC</span>
                                            <span class="text-slate-400">Login Only</span>
                                            <span class="bg-slate-300 text-slate-700 px-1 rounded">DB</span>
                                        </div>
                                        <div class="h-px bg-slate-300 w-full my-1 relative">
                                            <div class="absolute -top-2 left-1/2 -translate-x-1/2 bg-white px-1 text-[10px] text-slate-400">Mapping</div>
                                        </div>
                                        <div class="text-center text-slate-500">Session Created</div>
                                    </div>
                                `;
                } else if (strategy.key === 'jit') {
                    diagram = `
                                    <div class="flex flex-col gap-2 text-xs font-mono mt-4 p-3 bg-indigo-50 rounded border border-indigo-100">
                                        <div class="flex justify-between items-center">
                                            <span class="bg-indigo-600 text-white px-1 rounded">Token</span>
                                            <span class="text-indigo-400">Sync â”</span>
                                            <span class="bg-slate-700 text-white px-1 rounded">DB</span>
                                        </div>
                                        <div class="h-px bg-indigo-300 w-full my-1 relative">
                                            <div class="absolute -top-2 left-1/2 -translate-x-1/2 bg-white px-1 text-[10px] text-indigo-500">Upsert (JIT)</div>
                                        </div>
                                        <div class="text-center font-bold text-indigo-700">Data Synced</div>
                                    </div>
                                `;
                } else {
                    diagram = `
                                    <div class="flex flex-col gap-2 text-xs font-mono mt-4 p-3 bg-emerald-50 rounded border border-emerald-200">
                                        <div class="flex justify-between items-center">
                                            <span class="bg-emerald-600 text-white px-1 rounded">Token</span>
                                            <span class="text-emerald-500">Verify</span>
                                            <span class="bg-red-100 text-red-400 px-1 rounded line-through decoration-red-500">DB</span>
                                        </div>
                                        <div class="h-px bg-emerald-300 w-full my-1 relative">
                                            <div class="absolute -top-2 left-1/2 -translate-x-1/2 bg-white px-1 text-[10px] text-emerald-500">Trust Signature</div>
                                        </div>
                                        <div class="text-center font-bold text-emerald-700">Zero State</div>
                                    </div>
                                `;
                }

                return `
                                <div class="bg-white rounded-2xl shadow-lg border ${borderColor} overflow-hidden hover:-translate-y-1 transition-transform duration-300 flex flex-col xl:h-full">
                                    <div class="p-6 ${headerBg} border-b border-transparent xl:py-4">
                                        <div class="flex justify-between items-start mb-2">
                                            <span class="text-xs font-bold uppercase tracking-wider opacity-80">${strategy.level}</span>
                                            <span class="text-2xl">${strategy.icon}</span>
                                        </div>
                                        <h3 class="text-xl font-bold mb-1">${strategy.name}</h3>
                                        <p class="text-sm opacity-90">${strategy.tagline}</p>
                                    </div>
                                    
                                    <div class="p-6 flex-grow flex flex-col xl:p-4 xl:justify-between">
                                        <p class="text-slate-600 text-sm leading-relaxed mb-4 flex-grow xl:mb-2">
                                            ${strategy.desc}
                                        </p>
                                        
                                        <!-- Diagram visual -->
                                        ${diagram}

                                        <!-- Pros/Cons -->
                                        <div class="mt-6 space-y-4 xl:mt-4 xl:space-y-2">
                                            <div>
                                                <h4 class="text-xs font-bold text-slate-400 uppercase mb-2 xl:mb-1">ì¥ì  (Pros)</h4>
                                                <ul class="space-y-1">
                                                    ${strategy.pros.map(p => `<li class="text-sm text-slate-700 flex items-start gap-2"><span class="text-green-500">âœ”</span> ${p}</li>`).join('')}
                                                </ul>
                                            </div>
                                            <div>
                                                <h4 class="text-xs font-bold text-slate-400 uppercase mb-2 xl:mb-1">ë‹¨ì  (Cons)</h4>
                                                <ul class="space-y-1">
                                                    ${strategy.cons.map(c => `<li class="text-sm text-slate-500 flex items-start gap-2"><span class="text-red-400">âœ—</span> ${c}</li>`).join('')}
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `;
            }).join('')}
                    </div>

                    <!-- Recommendation Banner -->
                    <div class="bg-slate-800 rounded-xl p-4 text-center sm:text-left flex flex-col sm:flex-row items-center gap-4 shadow-xl xl:flex-none xl:mt-6">
                        <div class="flex-shrink-0 w-20 h-20 bg-indigo-500 rounded-full flex items-center justify-center text-4xl shadow-inner">
                            ğŸ¯
                        </div>
                        <div>
                            <h3 class="text-xl font-bold text-white mb-1">ë°”ë¡  ê¸°ìˆ ê¸°íšíŒ€ì˜ ê¶Œì¥ ì „ëµ</h3>
                            <p class="text-indigo-100 text-sm sm:text-base leading-relaxed">
                                ì‹ ê·œ í”„ë¡œì íŠ¸ë¼ë©´ <strong class="text-emerald-400">Level 3 (Stateless)</strong>ë¥¼ ëª©í‘œë¡œ í•˜ì„¸ìš”.<br>
                                í•˜ì§€ë§Œ ê¸°ì¡´ ë ˆê±°ì‹œ ì‹œìŠ¤í…œì„ ì „í™˜í•´ì•¼ í•œë‹¤ë©´, <strong class="text-white">Level 2 (JIT Provisioning)</strong>ê°€ ê°€ì¥ í˜„ì‹¤ì ì´ê³  ì•ˆì „í•œ ì¤‘ê°„ ë‹¨ê³„ì…ë‹ˆë‹¤. 
                                ì‚¬ìš©ìì˜ ë¡œê·¸ì¸ ê²½í—˜ì„ í•´ì¹˜ì§€ ì•Šìœ¼ë©´ì„œ ì ì§„ì ìœ¼ë¡œ ì¸ì¦ ì±…ì„ì„ IdPë¡œ ì´ê´€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                                ë‹¤ë§Œ, ì¸ê°€(Authorization) ìš”ê±´ì— ë”°ë¼ ReBACë¡œ êµ¬í˜„ì´ ì–´ë ¤ìš´ íŠ¹ìˆ˜ ìš”ê±´ë“¤ì´ ìˆëŠ” ê²½ìš° ë‹´ë‹¹ìì™€ í˜‘ì˜ë¥¼ í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                            </p>
                        </div>
                    </div>
                </section>
            `;
        }

        function renderIntegration(container) {
            container.innerHTML = `
                <section id="integration" class="content-section space-y-8 animate-fade-in pb-12" tabindex="-1">
                     <!-- Intro -->
                    <div>
                        <h2 class="text-3xl font-bold text-slate-900 mb-3">ì—°ë™ ê°€ì´ë“œ (Integration Guide)</h2>
                        <p class="text-slate-600">OIDC(OpenID Connect) ê¸°ë°˜ì˜ ì•ˆì „í•œ ì¸ì¦ ì‹œìŠ¤í…œ ì—°ë™ì„ ìœ„í•œ ë‹¨ê³„ë³„ ì ˆì°¨ì…ë‹ˆë‹¤.</p>
                    </div>

                    <!-- Process Steps -->
                    <div class="bg-white rounded-2xl shadow-lg border border-indigo-100 overflow-hidden">
                        <div class="p-8">
                            <div class="relative max-w-5xl mx-auto">
                                <!-- Connecting Line -->
                                <div class="absolute left-6 top-4 bottom-4 w-0.5 bg-slate-200"></div>

                                <!-- Step 0 -->
                                <div class="relative flex flex-col md:flex-row gap-8 mb-12 group">
                                    <div class="flex-shrink-0 flex items-start">
                                        <div class="w-12 h-12 bg-white rounded-full border-4 border-slate-100 shadow-sm flex items-center justify-center font-bold text-slate-400 z-10 group-hover:border-indigo-100 group-hover:bg-indigo-500 group-hover:text-white transition-all ring-4 ring-white">0</div>
                                    </div>
                                    <div class="pt-1 flex-1">
                                        <h4 class="text-xl font-bold text-slate-800 mb-2 group-hover:text-indigo-700 transition-colors">ë‹´ë‹¹ì ê³„ì • ì •ë³´ ì „ë‹¬í•˜ê¸°</h4>
                                        <div class="bg-slate-50 p-6 rounded-xl border border-slate-100 text-slate-600 group-hover:border-indigo-100 transition-colors shadow-sm">
                                            <p>ë³´ì•ˆíŒ€ ë˜ëŠ” í”Œë«í¼íŒ€ ë‹´ë‹¹ìì—ê²Œ ì—°ë™ ì±…ì„ìì˜ ì •ë³´(ì´ë©”ì¼, ë¶€ì„œ ë“±)ë¥¼ ì „ë‹¬í•˜ì—¬ ê´€ë¦¬ì ê¶Œí•œì„ ì‚¬ì „ ìš”ì²­í•©ë‹ˆë‹¤.</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Step 1 -->
                                <div class="relative flex flex-col md:flex-row gap-8 mb-12 group">
                                    <div class="flex-shrink-0 flex items-start">
                                        <div class="w-12 h-12 bg-white rounded-full border-4 border-slate-100 shadow-sm flex items-center justify-center font-bold text-slate-400 z-10 group-hover:border-indigo-100 group-hover:bg-indigo-500 group-hover:text-white transition-all ring-4 ring-white">1</div>
                                    </div>
                                    <div class="pt-1 flex-1 space-y-4">
                                        <div>
                                            <h4 class="text-xl font-bold text-slate-800 mb-2 group-hover:text-indigo-700 transition-colors">Staging DevFrontì— Client ì¶”ê°€</h4>
                                            <p class="text-slate-600 mb-4">Staging ê´€ë¦¬ì í˜ì´ì§€(DevFront)ì— ì ‘ì†í•˜ì—¬ ì‹ ê·œ Client(RP)ë¥¼ ë“±ë¡í•˜ê³ , Client ID ë° Redirect URI ë“± í•„ìˆ˜ ì •ë³´ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.</p>
                                        </div>
                                        
                                        <!-- Image Placeholder -->
                                        <div class="w-full aspect-video bg-slate-100 rounded-xl border-2 border-dashed border-slate-300 flex flex-col items-center justify-center relative overflow-hidden group/image">
                                            <img src="./img/dev_client_detail.png" alt="Staging Admin Screenshot" class="object-contain w-full h-full"/>
                                            <div class="absolute inset-0 bg-slate-900/5 opacity-0 group-hover/image:opacity-100 transition-opacity flex items-center justify-center pointer-events-none">
                                                <span class="bg-white px-4 py-2 rounded-full text-xs font-bold shadow-sm text-slate-700">ê´€ë¦¬ì í™”ë©´ ì˜ˆì‹œ</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Step 2 -->
                                <div class="relative flex flex-col md:flex-row gap-8 mb-12 group">
                                    <div class="flex-shrink-0 flex items-start">
                                        <div class="w-12 h-12 bg-white rounded-full border-4 border-slate-100 shadow-sm flex items-center justify-center font-bold text-slate-400 z-10 group-hover:border-indigo-100 group-hover:bg-indigo-500 group-hover:text-white transition-all ring-4 ring-white">2</div>
                                    </div>
                                    <div class="pt-1 flex-1 space-y-4">
                                        <div>
                                            <h4 class="text-xl font-bold text-slate-800 mb-2 group-hover:text-indigo-700 transition-colors">êµ¬í˜„ íˆ´í‚·ì„ í™œìš©í•œ ì—°ë™ ì‘ì—… ì§„í–‰</h4>
                                            <p class="text-slate-600 mb-4">ë°œê¸‰ë°›ì€ Client ìƒì„¸ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ, <a href="#implementation" onclick="navigate('implementation')" class="text-indigo-600 font-bold hover:underline">êµ¬í˜„ íˆ´í‚·</a>ì—ì„œ ì í•©í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„ íƒí•˜ì—¬ ì‹¤ì œ ì½”ë“œ ì—°ë™ì„ ì§„í–‰í•©ë‹ˆë‹¤.</p>
                                        </div>

                                        <!-- Image Placeholder -->
                                        <div class="w-full aspect-video bg-slate-100 rounded-xl border-2 border-dashed border-slate-300 flex flex-col items-center justify-center relative overflow-hidden group/image">
                                            <img src="./img/ide.png" alt="IDE Code Example" class="object-contain w-full h-full"/>
                                            <div class="absolute inset-0 bg-slate-900/5 opacity-0 group-hover/image:opacity-100 transition-opacity flex items-center justify-center pointer-events-none">
                                                <span class="bg-white px-4 py-2 rounded-full text-xs font-bold shadow-sm text-slate-700">ì½”ë“œ êµ¬í˜„ ì˜ˆì‹œ</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Step 3 -->
                                <div class="relative flex flex-col md:flex-row gap-8 group">
                                    <div class="flex-shrink-0 flex items-start">
                                        <div class="w-12 h-12 bg-white rounded-full border-4 border-slate-100 shadow-sm flex items-center justify-center font-bold text-slate-400 z-10 group-hover:border-indigo-100 group-hover:bg-indigo-500 group-hover:text-white transition-all ring-4 ring-white">3</div>
                                    </div>
                                    <div class="pt-1 flex-1">
                                        <h4 class="text-xl font-bold text-slate-800 mb-2 group-hover:text-indigo-700 transition-colors">Staging ì—°ë™ìƒí™© ê¸°ìˆ ê²€í†  ë° ë°°í¬ ë…¼ì˜</h4>
                                        <div class="bg-slate-50 p-6 rounded-xl border border-slate-100 text-slate-600 group-hover:border-indigo-100 transition-colors shadow-sm">
                                           <p>Staging í™˜ê²½ì—ì„œì˜ ì—°ë™ ê¸°ìˆ  ê²€í† ë¥¼ ì™„ë£Œí•œ í›„, Production ë°°í¬ ì¼ì •ê³¼ íŠ¸ë˜í”½ ìˆ˜ìš© ê³„íšì„ ê¸°ìˆ íŒ€ê³¼ ìµœì¢… ë…¼ì˜í•©ë‹ˆë‹¤.</p>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </section>
            `;
        }
        function navigate(route) {
            if (!route) return;
            if (location.hash.replace('#', '') !== route) {
                location.hash = route;
            } else {
                router(route);
            }
        }

        window.addEventListener('hashchange', () => {
            const route = location.hash.replace('#', '') || 'overview';
            router(route);
        });

        // Initialize App
        document.addEventListener('DOMContentLoaded', () => {
            const initial = (location.hash.replace('#', '') || 'overview');
            router(initial);
            if (!location.hash) location.hash = '#overview';
        });

    </script>
</body>

</html>